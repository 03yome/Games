local windUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

local lPlayer = game.Players.LocalPlayer
local players = game:GetService("Players")

local rs = game:GetService("ReplicatedStorage")
local events = rs.Events
local hdlead = lPlayer:FindFirstChild("hiddenleaderstats")

local remotes = {
    ["Push"] = events:FindFirstChild("PushEvent"),
    ["Rebirth"] = events:FindFirstChild("ascendEvent"),
    ["Badges"] = events:FindFirstChild("givePlayerBadge")
}

local badges = {}
local playersList = {}

local cfg = {
    autoRebirth = false,
    player2Push = ""
}

function updatePlayerList(list, dd)
    players.PlayerAdded:Connect(function(plr)
        if plr.Name ~= lPlayer.Name then
            table.insert(list, plr.Name)
            dd:Refresh(list)
        end
    end)

    players.PlayerRemoving:Connect(function(plr)
        local i = table.find(list, plr.Name)
        if i then
            table.remove(list, i)
            dd:Refresh(list)
        end
    end)
end

for _, plr in pairs(players:GetPlayers()) do
    if plr.Name ~= lPlayer.Name then
        table.insert(playersList, plr.Name)
    end
end

for _, badge in pairs(hdlead:GetChildren()) do
    if not badge:IsA("BoolValue") then continue end
    table.insert(badges, badge.Name)
end

local window = windUI:CreateWindow({
    Title = "the pay 2 win obby | script",
    Icon = "cat",
    Author = "by k1llm3sixy, romd3976",
    Folder = "tp2wo"
})

window:OnDestroy(function()
    cfg.autoRebirth = false
    cfg.player2Push = ""
end)

window:EditOpenButton({
    Title = "Open",
    Icon = "chevrons-left-right-ellipsis",
    CornerRadius = UDim.new(0,16),
    StrokeThickness = 2,
    Color = ColorSequence.new(
        Color3.fromHex("FF0F7B"),
        Color3.fromHex("F89B29")
    ),
    OnlyMobile = false,
    Enabled = true,
    Draggable = true,
})

local mainTab = window:Tab({ Title = "Main" })
local trollTab = window:Tab({ Title = "Troll" })
local FreeTab = window:Tab({ Title = "Free" })
local checkpointTab = window:Tab({ Title = "Checkpoint" })
local useTab = window:Tab({ Title = "Use" })


mainTab:Button({
    Title = "Get all badges",
    Callback = function() getBadges() end
})

mainTab:Toggle({
    Title = "Auto Rebirth",
    Icon = "check",
    Default = false,
    Callback = function(state)
        cfg.autoRebirth = state
        toggleAutoRebirth()
    end
})

local pushDropdown = trollTab:Dropdown({
    Title = "Select player",
    Desc = "Player to push",
    Values = playersList,
    Value = playersList[1],
    Callback = function(plr) cfg.player2Push = plr end
})

trollTab:Button({
    Title = "Push player!",
    Callback = function() pushPlayer() end
})

FreeTab:Button({
    Title = "jump free auto",
    Callback = function()
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer

UserInputService.JumpRequest:Connect(function()
    local args = {
        "Jump_Once",
        0
    }
    local event = ReplicatedStorage:WaitForChild("Events"):WaitForChild("itemPurchased")
    event:FireServer(unpack(args))
end)
 end
})

FreeTab:Button({
    Title = "Walk",
    Callback = function() local args = {
    "Walk",
    0
}
game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args)) end
})

FreeTab:Button({
    Title = "play game",
    Callback = function() local args = {
    "PlayGame",
    0
}
game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))end
})

FreeTab:Button({
    Title = "escape",
    Callback = function() local args = {
    "EscapeJail",
    0
}
game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))end
})

FreeTab:Button({
    Title = "Nuke",
    Callback = function() local args = {
    "Nuke",
    0
}
game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))end
})

FreeTab:Button({
    Title = "Immunity",
    Callback = function() local args = {
    "Immunity",
    0
}
game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))end
})

useTab:Button({
    Title = "chat spin",
    Callback = function()
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local LocalPlayer = Players.LocalPlayer
local spinningEvent = ReplicatedStorage:WaitForChild("Events"):WaitForChild("spinningEvent")

LocalPlayer.Chatted:Connect(function(msg)
    local num = tonumber(msg)
    if num then
        local args = { num }
        spinningEvent:FireServer(unpack(args))
        print("Executor:", num)
    end
end)
end
})

checkpointTab:Button({
    Title = "Checkpoint 2",
    Callback = function()
        local args = {
            "Checkpoint",
            0,
            "2"
        }
        game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))
    end
})

checkpointTab:Button({
    Title = "Checkpoint 3",
    Callback = function()
        local args = {
            "Checkpoint",
            0,
            "3"
        }
        game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))
    end
})

checkpointTab:Button({
    Title = "Checkpoint 4",
    Callback = function()
        local args = {
            "Checkpoint",
            0,
            "4"
        }
        game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))
    end
})

checkpointTab:Button({
    Title = "Checkpoint 5",
    Callback = function()
        local args = {
            "Checkpoint",
            0,
            "5"
        }
        game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))
    end
})

checkpointTab:Button({
    Title = "Checkpoint 6",
    Callback = function()
        local args = {
            "Checkpoint",
            0,
            "6"
        }
        game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))
    end
})

checkpointTab:Button({
    Title = "Checkpoint 7",
    Callback = function()
        local args = {
            "Checkpoint",
            0,
            "7"
        }
        game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))
    end
})

checkpointTab:Button({
    Title = "Checkpoint 8",
    Callback = function()
        local args = {
            "Checkpoint",
            0,
            "8"
        }
        game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))
    end
})

checkpointTab:Button({
    Title = "Checkpoint 9",
    Callback = function()
        local args = {
            "Checkpoint",
            0,
            "9"
        }
        game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))
    end
})

checkpointTab:Button({
    Title = "Checkpoint 10",
    Callback = function()
        local args = {
            "Checkpoint",
            0,
            "10"
        }
        game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))
    end
})

checkpointTab:Button({
    Title = "Checkpoint 11",
    Callback = function()
        local args = {
            "Checkpoint",
            0,
            "11"
        }
        game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))
    end
})

checkpointTab:Button({
    Title = "Checkpoint 12",
    Callback = function()
        local args = {
            "Checkpoint",
            0,
            "12"
        }
        game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))
    end
})

checkpointTab:Button({
    Title = "Checkpoint 13",
    Callback = function()
        local args = {
            "Checkpoint",
            0,
            "13"
        }
        game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))
    end
})

checkpointTab:Button({
    Title = "Checkpoint 14",
    Callback = function()
        local args = {
            "Checkpoint",
            0,
            "14"
        }
        game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))
    end
})

checkpointTab:Button({
    Title = "Checkpoint 15",
    Callback = function()
        local args = {
            "Checkpoint",
            0,
            "15"
        }
        game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))
    end
})

checkpointTab:Button({
    Title = "Checkpoint 16",
    Callback = function()
        local args = {
            "Checkpoint",
            0,
            "16"
        }
        game:GetService("ReplicatedStorage").Events.itemPurchased:FireServer(unpack(args))
    end
})

updatePlayerList(playersList, pushDropdown)

function getBadges()
    for _, badge in pairs(badges) do
        remotes["Badges"]:FireServer(badge)
    end
end

function toggleAutoRebirth()
    while cfg.autoRebirth do
        remotes["Rebirth"]:FireServer(lPlayer)
        task.wait(0.7)
    end
end

function pushPlayer()
    remotes["Push"]:FireServer(players:FindFirstChild(cfg.player2Push), Vector3.new(math.random(-100, 100), math.random(-100, 100), math.random(-100, 100)))
end
