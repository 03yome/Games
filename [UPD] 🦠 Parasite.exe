local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "[UPD] ðŸ¦  Parasite.exe",
   Icon = 0, -- Icon in Topbar. Can use Lucide Icons (string) or Roblox Image (number). 0 to use no icon (default).
   LoadingTitle = "Admin Panel",
   LoadingSubtitle = "Script By romd3976",
   Theme = "Dark", -- Check https://docs.sirius.menu/rayfield/configuration/themes

   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false,

   ConfigurationSaving = {
      Enabled = true,
      FolderName = nil, 
      FileName = "" -- "Cock" (slang)
   },

   Discord = {
      Enabled = false, 
      Invite = "noinvitelink", 
      RememberJoins = true 
   },

   KeySystem = false, -- Set this to true to use our key system
   KeySettings = {
      Title = "My rolbox profile 'romd3976'",
      Subtitle = "Key",
      Note = "Key is on the YT", -- Use this to tell the user how to get a key
      FileName = "Key", 
      SaveKey = true, 
      GrabKeyFromSite = false,
      Key = {"222554"} 
   }
})

local Tab = Window:CreateTab("Wheel Rewards", 4483362458)

local Button = Tab:CreateButton({
   Name = "3 Save",
   Callback = function()
local args = {
    [1] = "3 Save"
}

game:GetService("ReplicatedStorage").ClaimWheelPrize:FireServer(unpack(args))
   end,
})

local Button = Tab:CreateButton({
   Name = "Random Parasite",
   Callback = function()
local args = {
    [1] = "Random Parasite"
}

game:GetService("ReplicatedStorage").ClaimWheelPrize:FireServer(unpack(args))
   end,
})

local Button = Tab:CreateButton({
   Name = "3 Spins",
   Callback = function()
local args = {"3 Spins", }
game.ReplicatedStorage:WaitForChild("ClaimWheelPrize"):FireServer(unpack(args))
   end,
})

local Button = Tab:CreateButton({
   Name = "Fast Grow",
   Callback = function()
local args = {"Fast Grow"}
game.ReplicatedStorage:WaitForChild("ClaimWheelPrize"):FireServer(unpack(args))
   end,
})

local Button = Tab:CreateButton({
   Name = "Halloween Parasite",
   Callback = function()
local args = {"Halloween Parasite", }
game.ReplicatedStorage:WaitForChild("ClaimWheelPrize"):FireServer(unpack(args))
   end,
})

local Button = Tab:CreateButton({
   Name = "Crazy Parasite",
   Callback = function()
local args = {"Crazy Parasite", }
game.ReplicatedStorage:WaitForChild("ClaimWheelPrize"):FireServer(unpack(args))
   end,
})

local Tab = Window:CreateTab("Kill monters", 4483362458)

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local OrganismsFolder = workspace:WaitForChild("Organisms")

local SelectedTargetName = nil
local DamageValue = 25
local AuraRange = 50
local AuraEnabled = false

-- ==============================
-- HÃ€M Láº¤Y DANH SÃCH TARGET
-- ==============================

local function GetTargetList()
    local list = {}

    for _, v in pairs(OrganismsFolder:GetChildren()) do
        if v:FindFirstChild("Humanoid") then
            table.insert(list, v.Name)
        end
    end

    return list
end

-- ==============================
-- DAMAGE INPUT
-- ==============================

Tab:CreateInput({
    Name = "Damage",
    CurrentValue = "",
    PlaceholderText = "Enter Damage...",
    RemoveTextAfterFocusLost = false,
    Flag = "DamageInput",
    Callback = function(Text)
        local number = tonumber(Text)
        if number then
            DamageValue = number
        end
    end,
})

-- ==============================
-- AURA RANGE INPUT
-- ==============================

Tab:CreateInput({
    Name = "Aura Range",
    CurrentValue = "",
    PlaceholderText = "Enter Range...",
    RemoveTextAfterFocusLost = false,
    Flag = "RangeInput",
    Callback = function(Text)
        local number = tonumber(Text)
        if number then
            AuraRange = number
        end
    end,
})

-- ==============================
-- DROPDOWN TARGET
-- ==============================

local Dropdown = Tab:CreateDropdown({
    Name = "Select Dummy",
    Options = GetTargetList(),
    CurrentOption = {},
    MultipleOptions = false,
    Flag = "TargetDropdown",
    Callback = function(Options)
        SelectedTargetName = Options[1]
    end,
})

-- ==============================
-- AUTO REFRESH DROPDOWN
-- ==============================

local function RefreshDropdown()
    Dropdown:Refresh(GetTargetList())
end

OrganismsFolder.ChildAdded:Connect(RefreshDropdown)
OrganismsFolder.ChildRemoved:Connect(RefreshDropdown)

-- ==============================
-- HÃ€M GÃ‚Y DAMAGE
-- ==============================

local function DamageTarget(target)
    local humanoid = target:FindFirstChild("Humanoid")
    local root = target:FindFirstChild("HumanoidRootPart")

    if humanoid and root and humanoid.Health > 0 then
        local args = {
            humanoid,
            root,
            DamageValue,
            Vector3.new(0.6275, 0.2666, 0.7315),
            0,
            0,
            false
        }

        Character
            :WaitForChild("AR")
            :WaitForChild("GunScript_Server")
            :WaitForChild("InflictTarget")
            :FireServer(unpack(args))
    end
end

-- ==============================
-- BUTTON KILL SELECTED
-- ==============================

Tab:CreateButton({
    Name = "Kill Selected",
    Callback = function()
        if not SelectedTargetName then return end

        local target = OrganismsFolder:FindFirstChild(SelectedTargetName)
        if target then
            DamageTarget(target)
        end
    end,
})

-- ==============================
-- TOGGLE KILL AURA
-- ==============================

Tab:CreateToggle({
    Name = "Kill Aura",
    CurrentValue = false,
    Flag = "AuraToggle",
    Callback = function(Value)
        AuraEnabled = Value
    end,
})

-- ==============================
-- VÃ’NG Láº¶P AURA
-- ==============================

task.spawn(function()
    while task.wait(0.2) do
        if AuraEnabled and Character and Character:FindFirstChild("HumanoidRootPart") then

            local myPos = Character.HumanoidRootPart.Position

            for _, target in pairs(OrganismsFolder:GetChildren()) do
                local root = target:FindFirstChild("HumanoidRootPart")
                local humanoid = target:FindFirstChild("Humanoid")

                if root and humanoid and humanoid.Health > 0 then
                    local distance = (myPos - root.Position).Magnitude

                    if distance <= AuraRange then
                        DamageTarget(target)
                    end
                end
            end
        end
    end
end)
